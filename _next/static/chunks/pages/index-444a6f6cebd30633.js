(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5006:function(n,e,t){"use strict";t.r(e);var o=t(9499),i=t(7294),c=t(9367),r=t(7379),a=t(5893);function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var d=["white","black"],u=["\u89b3\u6226\u8005","\u5bfe\u6226\u76f8\u624b\u5f85\u6a5f\u4e2d","\u30d7\u30ec\u30a4\u30e4\u30fc[\u767d]","\u30d7\u30ec\u30a4\u30e4\u30fc[\u9ed2]"],h=r.ZP.div.withConfig({displayName:"pages__Container",componentId:"sc-eccczk-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#cff;"]),p=r.ZP.div.withConfig({displayName:"pages__Board",componentId:"sc-eccczk-1"})(["align-items:center;width:66vh;height:65.9vh;background-color:#0d0;border:1vh solid black;"]),g=r.ZP.div.withConfig({displayName:"pages__Sqaure",componentId:"sc-eccczk-2"})(["position:relative;display:inline-block;width:8vh;height:8vh;font-size:12vh;line-height:4.5vh;text-align:center;vertical-align:bottom;background-color:",";border:0.2vh solid black;"],(function(n){return 8===n.num?"red":""})),f=r.ZP.div.withConfig({displayName:"pages__Disk",componentId:"sc-eccczk-3"})(["width:5vh;height:5vh;margin:auto;background-color:",";border-radius:50%;"],(function(n){var e=n.num;return 0===e||1===e?d[e]:""})),b=(0,r.ZP)(f).withConfig({displayName:"pages__BoardDisk",componentId:"sc-eccczk-4"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:5vh;height:5vh;"]),m=r.ZP.div.withConfig({displayName:"pages__GameMsg",componentId:"sc-eccczk-5"})(["position:fixed;top:5vh;width:66vh;padding:0.2vh;margin:0 0 3vh;font-size:4vh;font-weight:bold;line-height:7vh;color:black;text-align:center;background:#eee;border:0.3vh solid #222;border-radius:0.5em;span.white{color:white;text-shadow:1px 1px 0 black,-1px -1px 0 black,-1px 1px 0 black,1px -1px 0 black,0 1px 0 black,0 -1px 0 black,-1px 0 0 black,1px 0 0 black;}"]),v=(0,r.ZP)(m).withConfig({displayName:"pages__DiskCount",componentId:"sc-eccczk-6"})(["top:initial;bottom:5vh;display:flex;width:initial;padding:0.8vh;line-height:4.5vh;"]),k=r.ZP.div.withConfig({displayName:"pages__Modal",componentId:"sc-eccczk-7"})(["position:absolute;top:30%;right:30%;bottom:30%;left:30%;z-index:2;display:",";flex-direction:column;align-items:center;background:whitesmoke;border-radius:1.5em;"],(function(n){return n.isShow?"None":"flex"})),w=r.ZP.label.withConfig({displayName:"pages__ModalLable",componentId:"sc-eccczk-8"})(["margin-top:8%;font-size:270%;color:black;text-align:center;"]),x=r.ZP.div.withConfig({displayName:"pages__ModalBack",componentId:"sc-eccczk-9"})(["position:fixed;top:0;right:0;bottom:0;left:0;z-index:1;display:",";display:None;width:100%;height:100%;background-color:rgb(0 0 0 / 80%);"],(function(n){return n.isShow?"":"None"})),y=r.ZP.button.withConfig({displayName:"pages__ModalButton",componentId:"sc-eccczk-10"})(["width:40%;height:30%;margin-top:10%;font-size:300%;background-color:#ddd;border:0.1vh solid black;border-radius:1.5em;:hover{background-color:#ccc;}"]),_=r.ZP.div.withConfig({displayName:"pages__ButtonArea",componentId:"sc-eccczk-11"})(["position:fixed;right:1vh;bottom:1vh;display:flex;flex-direction:column;height:15vh;padding:1vh;background-color:#dff;border:solid 0.2vh black;border-radius:1.5em;"]),C=r.ZP.button.withConfig({displayName:"pages__EntryButton",componentId:"sc-eccczk-12"})(["width:20vh;height:8vh;font-size:4vh;background-color:#ddd;border-bottom:solid 0.6vh #555;border-radius:1.5em;:active{border-bottom:solid 0.1vh #555;box-shadow:0 0 0.1vh rgb(0 0 0 / 30%);}"]),j=r.ZP.div.withConfig({displayName:"pages__UserStateLabel",componentId:"sc-eccczk-13"})(["position:fixed;bottom:1vh;left:1vh;display:flex;flex-direction:column;padding:1vh;font-size:3.6vh;color:",";background-color:",";border-left:solid 0.5vh gray;box-shadow:0 3px 5px rgb(0 0 0 / 22%);"],(function(n){return n.userState===u[3]?"white":"black"}),(function(n){var e=n.userState;return e===u[2]?"white":e===u[3]?"black":"whitesmoke"})),P=r.ZP.label.withConfig({displayName:"pages__ButtonLabel",componentId:"sc-eccczk-14"})(["margin:0.5vh 0;font-size:2vh;text-align:center;"]);e.default=function(){var n={board:Array.from(new Array(8),(function(){return new Array(8).fill(9)})),msg:"INIT",turnColor:"black",diskCount:{whiteCount:0,blackCount:0},isPlaying:!1,isGameOver:!1},e=(0,i.useState)(n),t=e[0],o=e[1],r=(0,i.useState)(u[0]),l=r[0],d=r[1],N=(0,i.useState)(!1),z=N[0],O=N[1],S=(0,i.useState)(!0),I=S[0],Z=S[1],E=(0,i.useState)(null),D=E[0],B=E[1],A=(0,i.useRef)(null),M=function(n){return"0".concat(n).slice(-2)};(0,i.useEffect)((function(){return A.current=(0,c.io)("http://localhost:8000",{reconnection:!1}),A.current.on("gameInfo",(function(n){var e=n.board,t=void 0===e?null:e,i=n.msg,c=void 0===i?null:i,r=n.diskCount,a=void 0===r?null:r,l=n.turnColor,d=void 0===l?null:l;console.log(n),null!==t&&o((function(n){return s(s({},n),{},{board:t})})),null!==c&&o((function(n){return s(s({},n),{},{msg:c})})),null!==a&&o((function(n){return s(s({},n),{},{diskCount:a})})),null!==d&&o((function(n){return s(s({},n),{},{turnColor:d})}))})),A.current.on("btnActionRep",(function(n){var e=n.type,t=n.isSuccses;"entry"===e&&t&&(window.alert("\u30a8\u30f3\u30c8\u30ea\u30fc\u3057\u307e\u3057\u305f"),d(u[1]))})),A.current.on("startReversi",(function(n){var e=n.color;"white"===e?d(u[2]):"black"===e&&d(u[3]),o(s(s({},t),{},{isPlaying:!0}))})),A.current.on("gameOver",(function(n){var e=n.result;console.log(e),o((function(n){return s(s({},n),{},{isGameover:!0})}))})),A.current.on("connect",(function(){B(!0),console.log("connect!")})),A.current.on("connect_error",(function(){B(!1),console.log("not_connect!"),window.alert("\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\n\u3082\u3046\u4e00\u5ea6\u8aad\u307f\u8fbc\u307f\u306a\u304a\u3057\u3066\u304f\u3060\u3055\u3044\u3002")})),function(){A.current.disconnect()}}),[]);return(0,a.jsxs)(h,{children:[(0,a.jsx)(x,{isShow:I,children:(0,a.jsxs)(k,{isShow:z,children:[(0,a.jsx)(w,{children:null===D?"\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u4e2d":D?"\u63a5\u7d9a\u5b8c\u4e86!":"\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093"}),D?(0,a.jsx)(y,{id:"inputName",type:"submit",onClick:function(){O(!0),Z(!1),console.log(A.current.id)},children:"Start"}):""]})}),(0,a.jsxs)(m,{children:[" ",t.msg]}),(0,a.jsx)(p,{children:t.board.map((function(n,e){return n.map((function(n,t){return(0,a.jsx)(g,{num:n,onClick:function(){!function(n,e,t){if(8===t){var o={y:e,x:n};console.log(o),A.current.emit("putDisk",{x:n,y:e})}}(t,e,n)},children:(0,a.jsx)(b,{num:n})},"".concat(t,"-").concat(e))}))}))}),(0,a.jsxs)(v,{children:[(0,a.jsx)(f,{num:0}),"\uff1a",M(t.diskCount.whiteCount)," -"," ",M(t.diskCount.blackCount),"\uff1a ",(0,a.jsx)(f,{num:1})]}),t.isPlaying&&l!==u[2]&&l!==u[3]?"":(0,a.jsxs)(_,{children:[(0,a.jsx)(P,{children:"\u53c2\u52a0\u306f\u3053\u3061\u3089\u304b\u3089"}),(0,a.jsx)(C,{onClick:function(){window.confirm("\u30a8\u30f3\u30c8\u30ea\u30fc\u3057\u307e\u3059\u304b\uff1f")?(alert("\u30a8\u30f3\u30c8\u30ea\u30fc\u3057\u307e\u3057\u305f\u3002"),A.current.emit("entry")):alert("\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f\u3002")},children:"Entry"})]}),D?(0,a.jsxs)(j,{userState:l,children:["State : ",l]}):""]})}},8312:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5006)}])}},function(n){n.O(0,[910,774,888,179],(function(){return e=8312,n(n.s=e);var e}));var e=n.O();_N_E=e}]);